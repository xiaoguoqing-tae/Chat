{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?64a7","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?1ce8","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?a0e6","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?8503","uni-app:///pages/addmoment/addmoment.vue","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?2db6","webpack:///C:/Users/10721/Desktop/app/pages/addmoment/addmoment.vue?99bc"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,wLAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBvnB,sE;AACA;AACA;AACA,oBADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,aADA;AAEA,aAFA;AAGA,oBAHA;AAIA,mBAJA;AAKA,kBALA;AAMA,iBANA;AAOA,aAPA;AAQA,gBARA;AASA,eATA;AAUA,gBAVA;AAWA,cAXA;;AAaA,GAlBA;AAmBA,QAnBA,oBAmBA;AACA;AACA,GArBA;AAsBA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,CAQA;AACA;AACA;AACA,KAbA;AAcA,WAdA,qBAcA;AACA;AACA,gBADA;;AAGA,KAlBA;AAmBA;AACA,aApBA,uBAoBA;AACA;AACA,KAtBA;;AAwBA;;;;;AAKA,cA7BA,sBA6BA,IA7BA,EA6BA,CA7BA,EA6BA;AACA;AACA;AACA;AACA;AACA,KAlCA;;AAoCA;;;;;AAKA,aAzCA,qBAyCA,IAzCA,EAyCA,EAzCA,EAyCA;AACA;AACA;AACA,KA5CA;AA6CA,cA7CA,wBA6CA;AACA;AACA;AACA;AACA,+CADA;AAEA,wBAFA;AAGA;AACA,yBADA;AAEA,4BAFA;AAGA,gCAHA;AAIA,8BAJA;AAKA,6CALA,EAHA;;AAUA;AACA;AACA,2BADA;AAEA,0BAFA;AAGA;AACA;AACA;AACA,6CADA;;AAGA,iBAJA,EAIA,GAJA;AAKA,eATA;;AAWA,WAtBA;;AAwBA,OAzBA,EAyBA,GAzBA;AA0BA,KAzEA;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBA5FA,+BA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CADA;AAEA,+BAFA;AAGA,sBAHA;AAIA;AACA,oBADA;AAEA,iHAFA,EAJA;;AAQA;AACA;AACA;AACA,WAXA;;AAaA;AACA,KAhHA,EAtBA,E;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAA6nC,CAAgB,umCAAG,EAAC,C;;;;;;;;;;;ACAjpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/addmoment/addmoment.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/addmoment/addmoment.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addmoment.vue?vue&type=template&id=4d6e5aca&scoped=true&\"\nvar renderjs\nimport script from \"./addmoment.vue?vue&type=script&lang=js&\"\nexport * from \"./addmoment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addmoment.vue?vue&type=style&index=0&id=4d6e5aca&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d6e5aca\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/addmoment/addmoment.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addmoment.vue?vue&type=template&id=4d6e5aca&scoped=true&\"","var components = {\n  gUpload: function() {\n    return import(\n      /* webpackChunkName: \"components/g-upload/g-upload\" */ \"@/components/g-upload/g-upload.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addmoment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addmoment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"head\">\r\n\t\t\t<image class=\"left\" src=\"../../static/fanhui.png\" @tap=\"navback\"></image>\r\n\t\t\t<button class=\"right\" @tap=\"addmoments\">发表</button>\r\n\t\t</view>\r\n\t\t<view class=\"main\">\r\n\t\t\t<textarea v-model=\"msg\" class=\"main-text\" placeholder=\"分享此刻所想\" maxlength=\"-1\"></textarea>\r\n\t\t\t<g-upload ref='gUpload' :mode=\"imgList\" @chooseFile='chooseFile' @imgDelete='imgDelete' :control='control'\r\n\t\t\t :columnNum=\"columnNum\"></g-upload>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport gUpload from \"@/components/g-upload/g-upload.vue\"\r\n\timport {dateTime,fileName,formatDateTime} from \"../../commons/js/myfun.js\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tgUpload\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmsg: \"\",\r\n\t\t\t\tuid: \"\",\r\n\t\t\t\ttitle: 'Hello',\r\n\t\t\t\tcontrol: true,\r\n\t\t\t\tcolumnNum: 4,\r\n\t\t\t\timgList: [],\r\n\t\t\t\turl: [],\r\n\t\t\t\turlarr:[],\r\n\t\t\t\ttoken:\"\",\r\n\t\t\t\timgurl:\"\",\r\n\t\t\t\tname:\"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getstorage()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetstorage() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = uni.getStorageSync('user');\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\tthis.name = value.name\r\n\t\t\t\t\t\tthis.uid = value.id\r\n\t\t\t\t\t\tthis.token=value.token\r\n\t\t\t\t\t\tthis.imgurl = value.imgurl\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"取值失败\")\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//点击上传控件上传\r\n\t\t\tuploadImg() {\r\n\t\t\t\tthis.$refs.gUpload.uploadImg()\r\n\t\t\t},\r\n\r\n\t\t\t/*\r\n\t\t\t上传后返回的值：\r\n\t\t\tlist：上传后图片数组\r\n\t\t\tv：返回当前上传图片的临时路径\r\n\t\t\t*/\r\n\t\t\tchooseFile(list, v) {\r\n\t\t\t\tconsole.log(\"上传图片_list：\", list)\r\n\t\t\t\tconsole.log(\"上传图片_v：\", v);\r\n\t\t\t\tthis.url = list\r\n\t\t\t\t// this.uploadFileToServe(v)\r\n\t\t\t},\r\n\r\n\t\t\t/*\r\n\t\t\t删除图片：\r\n\t\t\tlist：删除返回删除后剩余的图片数组\r\n\t\t\teq：返回删除的数组\r\n\t\t\t*/\r\n\t\t\timgDelete(list, eq) {\r\n\t\t\t\tconsole.log(\"删除图片_list：\", list)\r\n\t\t\t\tconsole.log(\"删除图片_eq：\", eq)\r\n\t\t\t},\r\n\t\t\taddmoments() {\r\n\t\t\t\tthis.uploadFileToServe()\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:this.serverUrl+\"/moments/msg\",\r\n\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\tid:this.uid,\r\n\t\t\t\t\t\t\tname:this.name,\r\n\t\t\t\t\t\t\timgurl:this.imgurl,\r\n\t\t\t\t\t\t\tmessage:this.msg,\r\n\t\t\t\t\t\t\turl:JSON.stringify(this.urlarr)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"发布成功\",\r\n\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl:\"../moments/moments\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t},500)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},500)\r\n\t\t\t},\r\n\t\t\t// addmoments() {\r\n\t\t\t// \tthis.uploadFileToServe()\r\n\t\t\t// \tsetTimeout(()=>{\r\n\t\t\t// \t\tuni.request({\r\n\t\t\t// \t\t\turl:this.serverUrl+\"/moments/getmsg\",\r\n\t\t\t// \t\t\tmethod:\"POST\",\r\n\t\t\t// \t\t\tdata:{\r\n\t\t\t// \t\t\t\tuid:this.uid,\r\n\t\t\t// \t\t\t\tstate:0,\r\n\t\t\t// \t\t\t\ttoken: this.token\r\n\t\t\t// \t\t\t},\r\n\t\t\t// \t\t\tsuccess: (res) => {\r\n\t\t\t// \t\t\t\tconsole.log(res.data)\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t},500)\r\n\t\t\t// },\r\n\t\t\t//上传图片\r\n\t\t\tuploadFileToServe() {\r\n\t\t\t\tvar url = fileName(new Date());\r\n\t\t\t\tif (!this.url || this.url.length <= 0) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t};\r\n\t\t\t\tfor (let i = 0; i < this.url.length; i++) {\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl:this.serverUrl+'/files/upload',\r\n\t\t\t\t\t\tfilePath: this.url[i],\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\turl:url,\r\n\t\t\t\t\t\t\tname:new Date().getTime()+this.uid+Math.ceil(Math.random()*10)+Math.ceil(Math.random()*10),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\tthis.urlarr.push(uploadFileRes.data)\r\n\t\t\t\t\t\t\tconsole.log(uploadFileRes.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.head {\r\n\t\twidth: 100%;\r\n\t\theight: 88rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t\tline-height: 88rpx;\r\n\t\tborder-bottom: 1px solid $uni-border-color;\r\n\t\tpadding-top: var(--status-bar-height);\r\n\r\n\t\t.left {\r\n\t\t\twidth: 48rpx;\r\n\t\t\theight: 48rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 24rpx;\r\n\t\t\tbottom: 20rpx;\r\n\r\n\t\t}\r\n\r\n\t\t.right {\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 90rpx;\r\n\t\t\twidth: 150rpx;\r\n\t\t\theight: 90rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tbackground: #3CC51F;\r\n\t\t\tright: 5rpx;\r\n\t\t\ttop: var(--status-bar-height);\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.main {\r\n\t\tpadding-top: 88rpx;\r\n\t\twidth: 100%;\r\n\t\theight: 400rpx;\r\n\r\n\t\t.main-text {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin-left: 5%;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addmoment.vue?vue&type=style&index=0&id=4d6e5aca&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addmoment.vue?vue&type=style&index=0&id=4d6e5aca&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604969379453\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}